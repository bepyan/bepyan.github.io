{"pageProps":{"post":{"title":"Next.js 블로그 Google Analytics 연동하기","description":"블로그에 Google Analytics v4를 심어주자!","tags":["Next.js","Blog","Typescript","GA"],"draft":false,"date":"2022-11-16","content":"\n✨ [**google analytics**](https://analytics.google.com/analytics/web/)\n2020년도에 공식 릴리즈된 web-based 사용자 행동 분석 서비스입니다.   \n사용자의 유입, 스크롤, 검색, 클릭 등 이벤트를 자도으로 수집해줍니다.   \n참고로 firebase analytics는 app-based 분석 서비스로 iOS, AOS 앱을 개발할 때 사용하면 좋습니다.\n\n사이트에 들어가면 어렵지않게 이를 세팅할 수 있습니다.\n\n관리 > 속성 만들기  \n관리 > 데이터 스트림 > 스트림 추가  \n관리 > 데이터 스트림 > 스트림 선택 > 태그 안내 보기 > 직접 설치\n\n```html\n<!-- Google tag (gtag.js) -->\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=###\"></script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag() {\n    dataLayer.push(arguments);\n  }\n  gtag('js', new Date());\n\n  gtag('config', '###');\n</script>\n```\n\n위 예시를 Next.js에 맞게 주입시켜 주면 됩니다.   \nNext.js에서 GA를 사용하는 [공식 예시](https://github.com/vercel/next.js/tree/canary/examples/with-google-analytics)가 있어 그대로 참고하면 됩니다.   \n하지만 js로 작성되어 있어 ts에 호환되도록 추가 작업이 진행되어야 합니다.\n\n```shell\nyarn add -D @types/gtag.js\n```\n\n<br />\n\n`types.d.ts`\n```ts\n/// <reference types=\"gtag.js\" />\n\ndeclare module 'gtag.js';\n```\neslint typescript에서 에러를 던질 수 있는데 `.eslintignore`에 `*.d.ts`를 추가하여 무시해주도록 합니다.\n\n<br />\n\n이제 3 파일을 수정하면 됩니다.\n\n[libs/gtags.ts](https://github.com/vercel/next.js/blob/canary/examples/with-google-analytics/lib/gtag.js)\n```ts\nexport const GA_TRACKING_ID = '<어짜피 HTML에 노출된다>';\n\n// https://developers.google.com/analytics/devguides/collection/gtagjs/pages\nexport const pageview = (url: URL) => {\n  window.gtag('config', GA_TRACKING_ID, {\n    page_path: url,\n  });\n};\n\n// https://developers.google.com/analytics/devguides/collection/gtagjs/events\nexport const event = (\n  action: Gtag.EventNames,\n  { event_category, event_label, value }: Gtag.EventParams,\n) => {\n  window.gtag('event', action, {\n    event_category,\n    event_label,\n    value,\n  });\n};\n```\n\n[_app.tsx](https://github.com/vercel/next.js/blob/canary/examples/with-google-analytics/pages/_app.js)\n\n[_document.tsx](https://github.com/vercel/next.js/blob/canary/examples/with-google-analytics/pages/_document.js)\n\n<br />\n\n배포 이후 태그가 잘 추가되었는지 확인 해봅시다!   \nhtml에서 `gtag-init`를 검색해보면 쉽게 찾을 수 있습니다.\n\n![221116-134704](/posts/google-analytics/221116-134704.png)\n\n이제 48시간 내에 해당 태그가 수집되어 GA가 사용자의 행동을 추적하게 됩니다.   \n\n<br />\n\n진짜 마지막으로 GA와 Search Console를 연동해주도록 합시다.\n- 관리 > Search Console 링크 > 연결\n\n![221116-140526](/posts/google-analytics/221116-140526.png)\n\n참고\n- https://andrew-simpson-ross.medium.com/strongly-typed-google-analytics-v4-with-next-js-aad6c6a5e383\n","slug":"nextjs-blog/google-analytics","readingMinutes":3,"wordCount":260},"slug":"nextjs-blog/google-analytics","compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    strong: \"strong\",\n    br: \"br\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\",\n    img: \"img\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"✨ \", _jsx(_components.a, {\n        href: \"https://analytics.google.com/analytics/web/\",\n        children: _jsx(_components.strong, {\n          children: \"google analytics\"\n        })\n      }), \"\\n2020년도에 공식 릴리즈된 web-based 사용자 행동 분석 서비스입니다.\", _jsx(_components.br, {}), \"\\n\", \"사용자의 유입, 스크롤, 검색, 클릭 등 이벤트를 자도으로 수집해줍니다.\", _jsx(_components.br, {}), \"\\n\", \"참고로 firebase analytics는 app-based 분석 서비스로 iOS, AOS 앱을 개발할 때 사용하면 좋습니다.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"사이트에 들어가면 어렵지않게 이를 세팅할 수 있습니다.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"관리 > 속성 만들기\", _jsx(_components.br, {}), \"\\n\", \"관리 > 데이터 스트림 > 스트림 추가\", _jsx(_components.br, {}), \"\\n\", \"관리 > 데이터 스트림 > 스트림 선택 > 태그 안내 보기 > 직접 설치\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-html\",\n      children: _jsxs(_components.code, {\n        className: \"language-html code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"<!-- Google tag (gtag.js) -->\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"<\"\n              }), \"script\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token attr-name\",\n              children: \"src\"\n            }), _jsxs(_components.span, {\n              className: \"token attr-value\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation attr-equals\",\n                children: \"=\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              }), \"https://www.googletagmanager.com/gtag/js?id=###\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"\\\"\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \">\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token script\"\n          }), _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"</\"\n              }), \"script\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \">\"\n            })]\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"<\"\n              }), \"script\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \">\"\n            })]\n          }), _jsx(_components.span, {\n            className: \"token script\",\n            children: _jsx(_components.span, {\n              className: \"token language-javascript\",\n              children: \"\\n\"\n            })\n          })]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token script\",\n            children: _jsxs(_components.span, {\n              className: \"token language-javascript\",\n              children: [\"  \", _jsx(_components.span, {\n                className: \"token dom variable\",\n                children: \"window\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: \"dataLayer\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"=\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token dom variable\",\n                children: \"window\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: \"dataLayer\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"||\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"[\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"]\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              }), \"\\n\"]\n            })\n          })\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token script\",\n            children: _jsxs(_components.span, {\n              className: \"token language-javascript\",\n              children: [\"  \", _jsx(_components.span, {\n                className: \"token keyword\",\n                children: \"function\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token function\",\n                children: \"gtag\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \")\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \"\\n\"]\n            })\n          })\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token script\",\n            children: _jsxs(_components.span, {\n              className: \"token language-javascript\",\n              children: [\"    dataLayer\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token method function property-access\",\n                children: \"push\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"(\"\n              }), \"arguments\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \")\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              }), \"\\n\"]\n            })\n          })\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token script\",\n            children: _jsxs(_components.span, {\n              className: \"token language-javascript\",\n              children: [\"  \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              }), \"\\n\"]\n            })\n          })\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token script\",\n            children: _jsxs(_components.span, {\n              className: \"token language-javascript\",\n              children: [\"  \", _jsx(_components.span, {\n                className: \"token function\",\n                children: \"gtag\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"token string\",\n                children: \"'js'\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token keyword\",\n                children: \"new\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token class-name\",\n                children: \"Date\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \")\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \")\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              }), \"\\n\"]\n            })\n          })\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token script\",\n            children: _jsx(_components.span, {\n              className: \"token language-javascript\",\n              children: \"\\n\"\n            })\n          })\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token script\",\n            children: _jsxs(_components.span, {\n              className: \"token language-javascript\",\n              children: [\"  \", _jsx(_components.span, {\n                className: \"token function\",\n                children: \"gtag\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"token string\",\n                children: \"'config'\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token string\",\n                children: \"'###'\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \")\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              }), \"\\n\"]\n            })\n          })\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token script\",\n            children: _jsx(_components.span, {\n              className: \"token language-javascript\"\n            })\n          }), _jsxs(_components.span, {\n            className: \"token tag\",\n            children: [_jsxs(_components.span, {\n              className: \"token tag\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"</\"\n              }), \"script\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \">\"\n            })]\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"위 예시를 Next.js에 맞게 주입시켜 주면 됩니다.\", _jsx(_components.br, {}), \"\\n\", \"Next.js에서 GA를 사용하는 \", _jsx(_components.a, {\n        href: \"https://github.com/vercel/next.js/tree/canary/examples/with-google-analytics\",\n        children: \"공식 예시\"\n      }), \"가 있어 그대로 참고하면 됩니다.\", _jsx(_components.br, {}), \"\\n\", \"하지만 js로 작성되어 있어 ts에 호환되도록 추가 작업이 진행되어야 합니다.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token function\",\n            children: \"yarn\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"add\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-D\"\n          }), \" @types/gtag.js\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.code, {\n        children: \"types.d.ts\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-ts\",\n      children: _jsxs(_components.code, {\n        className: \"language-ts code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"/// <reference types=\\\"gtag.js\\\" />\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"declare\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"module\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'gtag.js'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"eslint typescript에서 에러를 던질 수 있는데 \", _jsx(_components.code, {\n        children: \".eslintignore\"\n      }), \"에 \", _jsx(_components.code, {\n        children: \"*.d.ts\"\n      }), \"를 추가하여 무시해주도록 합니다.\"]\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsx(_components.p, {\n      children: \"이제 3 파일을 수정하면 됩니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.a, {\n        href: \"https://github.com/vercel/next.js/blob/canary/examples/with-google-analytics/lib/gtag.js\",\n        children: \"libs/gtags.ts\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-ts\",\n      children: _jsxs(_components.code, {\n        className: \"language-ts code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"export\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token constant\",\n            children: \"GA_TRACKING_ID\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'<어짜피 HTML에 노출된다>'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// https://developers.google.com/analytics/devguides/collection/gtagjs/pages\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"export\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function-variable function\",\n            children: \"pageview\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"url\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token constant\",\n            children: \"URL\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=>\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  window\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"gtag\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'config'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token constant\",\n            children: \"GA_TRACKING_ID\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    page_path\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" url\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// https://developers.google.com/analytics/devguides/collection/gtagjs/events\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"export\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"const\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function-variable function\",\n            children: \"event\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  action\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" Gtag\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"EventNames\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \" event_category\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" event_label\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" value \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \":\"\n          }), \" Gtag\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), \"EventParams\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=>\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  window\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"gtag\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"'event'\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" action\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    event_category\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    event_label\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    value\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.a, {\n        href: \"https://github.com/vercel/next.js/blob/canary/examples/with-google-analytics/pages/_app.js\",\n        children: \"_app.tsx\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.a, {\n        href: \"https://github.com/vercel/next.js/blob/canary/examples/with-google-analytics/pages/_document.js\",\n        children: \"_document.tsx\"\n      })\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.p, {\n      children: [\"배포 이후 태그가 잘 추가되었는지 확인 해봅시다!\", _jsx(_components.br, {}), \"\\n\", \"html에서 \", _jsx(_components.code, {\n        children: \"gtag-init\"\n      }), \"를 검색해보면 쉽게 찾을 수 있습니다.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/posts/google-analytics/221116-134704.png\",\n        alt: \"221116-134704\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제 48시간 내에 해당 태그가 수집되어 GA가 사용자의 행동을 추적하게 됩니다.\"\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsx(_components.p, {\n      children: \"진짜 마지막으로 GA와 Search Console를 연동해주도록 합시다.\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"관리 > Search Console 링크 > 연결\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/posts/google-analytics/221116-140526.png\",\n        alt: \"221116-140526\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"참고\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://andrew-simpson-ross.medium.com/strongly-typed-google-analytics-v4-with-next-js-aad6c6a5e383\",\n          children: \"https://andrew-simpson-ross.medium.com/strongly-typed-google-analytics-v4-with-next-js-aad6c6a5e383\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","tableOfContents":[]},"__N_SSG":true}