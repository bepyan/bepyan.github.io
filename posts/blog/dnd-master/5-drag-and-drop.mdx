---
title: 'DND ì´ë²¤íŠ¸ ë½€ê°œê¸°'
description: 'ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´ Reactì—ì„œ Drag and Drop ì´ë²¤íŠ¸ë¥¼ êµ¬í˜„í•´ë³´ì!!!'
icon: ''
image: ''
tags:
  - next.js
  - react
  - DOM
draft: false
date: 2022-10-10 15:03:21
---

ë“œë””ì–´, ëŒ€ë§ì˜ DND ì´ë²¤íŠ¸ë¥¼ êµ¬í˜„í•´ë³´ë„ë¡ í•˜ì!

ì¹¸ë°˜ë³´ë“œ, ëª©ì°¨ í¸ì§‘ ê¸°ëŠ¥ì´ ì‹¤ìš©ì ì´ì§€ë§Œ
ì¬ë¯¸ì‚¼ì•„ì„œ ë¨¼ì € í¼ì¦ ë§ì¶”ê¸° ê²Œì„ ëŠë‚Œì˜ ì´ë²¤íŠ¸ë¥¼ ë¨¼ì € ë§Œë“¤ì–´ ë³´ì.
https://www.happyclicks.net/drag-drop-games/games_numbers.php

~~ì–´ì©Œë‹¤ë³´ë‹ˆ ê¸€ì´ ì¢€ ê¹ë‹ˆë‹¤...~~

## TL;DR

> [**cloneNode**](https://developer.mozilla.org/ko/docs/Web/API/Node/cloneNode)ë¥¼ í†µí•´ íƒ€ê²Ÿì„ ë³µì‚¬í•˜ì—¬ dragì‹œí‚¨ë‹¤.
> [**document.elementFromPoint(x, y)**](https://developer.mozilla.org/en-US/docs/Web/API/Document/elementFromPoint)ì„ í™œìš©í•˜ì—¬ íŠ¹ì • ì˜ì—­ì˜ element ì •ë³´ë¥¼ ì–»ëŠ”ë‹¤.
> íšë“í•œ elementì˜ ì •ë³´ ë°”íƒ•ìœ¼ë¡œ `onDrop` ì´ë²¤íŠ¸ë¥¼ êµ¬í˜„í•œë‹¤.

---

## EVENT â€” ì´ë²¤íŠ¸ ë“±ë¡

DOM APIë¥¼ ì§ì ‘ì ìœ¼ë¡œ ë‹¤ë¤„ì•¼í•˜ë‹¤ ë³´ë‹ˆ
ì´ë¥¼ ë³„ë„ì˜ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ vanillaë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ í¸í•  ê²ƒ ê°™ë‹¤.

ë¨¼ì €,
NextJSì—ì„œëŠ” CSRì—ì„œ ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ë„ë¡ í›…ì„ ë§Œë“¤ì–´ ì¤€ë‹¤.

`DNDMatchExample.tsx`

```tsx
const [ready, setReady] = useState(false);

useEffect(() => {
  if(!ready) {
    setReady(true);
    return;
  }

  // ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•œë‹¤.
  const cleanup = registDND(...);

  // ì´ë²¤íŠ¸ë¥¼ í•´ì œí•´ì¤€ë‹¤.
  return () => cleanup();
}, [ready]);

if (!ready) return <></>;
```

<br />

ìŠ¤í¬ë¦½íŠ¸ëŠ” `DNDMatchExample.drag.ts` íŒŒì¼ë¡œ ì‘ì„±í–ˆë‹¤.
ëª¨ë°”ì¼ì—ì„œë„ ë™ì‘ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í–ˆë‹¤.
ê´€ë ¨ ë¡œì§ì€ [**ì´ì „ í¬ìŠ¤íŠ¸**](https://velog.io/@bepyan/Drag-Touch-ë½€ê°œê¸°)ë¥¼ ì°¸ê³ í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.

```tsx
export const registDND = (...) => {

  // ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œì˜ Touch ì´ë²¤íŠ¸
  const isTouchScreen =
    typeof window !== 'undefined' &&
    window.matchMedia('(hover: none) and (pointer: coarse)').matches;

  const startEventName = isTouchScreen ? 'touchstart' : 'mousedown';
  const moveEventName = isTouchScreen ? 'touchmove' : 'mousemove';
  const endEventName = isTouchScreen ? 'touchend' : 'mouseup';

  // ë§ˆìš°ìŠ¤ ì›€ì§ì„ ë³€í™”ë¥¼ ì¸¡ì •í•˜ëŠ” ìœ í‹¸
  const getDelta = (startEvent: MouseEvent | TouchEvent, moveEvent: MouseEvent | TouchEvent) => {
    if (isTouchScreen) {
      const se = startEvent as TouchEvent;
      const me = moveEvent as TouchEvent;

      return {
        deltaX: me.touches[0].pageX - se.touches[0].pageX,
        deltaY: me.touches[0].pageY - se.touches[0].pageY,
      };
    }

    const se = startEvent as MouseEvent;
    const me = moveEvent as MouseEvent;

    return {
      deltaX: me.pageX - se.pageX,
      deltaY: me.pageY - se.pageY,
    };
  };

  // DND ë“±ë¡ ì´ë²¤íŠ¸
  const startHandler = (startEvent: MouseEvent | TouchEvent) => {
    const item = startEvent.target as HTMLElement;

    // Drag ëŒ€ìƒì´ ì•„ë‹ˆë©´ ì´ë²¤íŠ¸ë¥¼ ì¢…ë£Œí•´ì¤€ë‹¤.
    if (!item.classList.contains('dnd-drag-item')) {
      return;
    }

    // Drag ì‹œì‘ ì´ë²¤íŠ¸ ê´€ë ¨ ë™ì‘
    // {...}

    // Drag ì›€ì§ì„ ì´ë²¤íŠ¸ ê´€ë ¨ ë™ì‘
    const moveHandler = (moveEvent: MouseEvent | TouchEvent) => {
      // {...}
    };

    // Drag ì¢…ë£Œ(Drop) ì´ë²¤íŠ¸ ê´€ë ¨ ë™ì‘
    const endHandler = () => {
      // {...}

      document.removeEventListener(moveEventName, moveHandler);
    };

    document.addEventListener(moveEventName, moveHandler);
    document.addEventListener(endEventName, endHandler, { once: true });
  }


  // documentì— DND ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•´ì¤€ë‹¤.
  document.addEventListener(startEventName, startHandler);
  return () => document.removeEventListener(startEventName, startHandler);
};
```

jsxì—ì„œì²˜ëŸ¼ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•  ìˆ˜ ì—†ê¸°ì—
ì´ì „ê³¼ëŠ” ë‹¤ë¥´ê²Œ [ì´ë²¤íŠ¸ ìœ„ì„](https://ko.javascript.info/event-delegation)ë¥¼ í™œìš©í•˜ì—¬ documentì— ë“±ë¡í•´ì¤¬ë‹¤.

ì´ì œ ë¡œì§ì„ í•˜ë‚˜ í•˜ë‚˜ êµ¬í˜„ì„ í•´ë³´ì.

---

## DRAG â€” Ghost ë§Œë“¤ê¸°

> í•µì‹¬ì€ ê¸°ì¡´ ì—˜ë¦¬ë¨¼íŠ¸ì„ ê·¸ëŒ€ë¡œ ë‘ê³  `clone`í•œ `ghost`ë¥¼ ì›€ì§ì´ê²Œ í•œë‹¤.

```tsx
const startHandler = (startEvent: MouseEvent | TouchEvent) => {
  const item = clickEvent.currentTarget as HTMLElement;
  if (
    !item.classList.contains('dnd-drag-item') ||
    item.classList.contains('ghost') ||
    item.classList.contains('placeholder')
  ) {
    return;
  }

  const itemRect = item.getBoundingClientRect();

  // --- Ghost ë§Œë“¤ê¸°
  const ghostItem = item.cloneNode(true) as HTMLElement;
  ghostItem.classList.add('ghost');
  ghostItem.style.position = 'fixed';
  ghostItem.style.top = `${itemRect.top}px`;
  ghostItem.style.left = `${itemRect.left}px`;
  ghostItem.style.pointerEvents = 'none';
  ghostItem.style.textShadow = '0 30px 60px rgba(0, 0, 0, .3)';
  ghostItem.style.transform = 'scale(1.05)';
  ghostItem.style.transition = 'transform 200ms ease';

  item.style.opacity = '0.5';
  item.style.cursor = 'grabbing';

  document.body.style.cursor = 'grabbing';
  document.body.appendChild(ghostItem);
  // --- Ghost ë§Œë“¤ê¸° END


  const mouseMoveHandler = (moveEvent: MouseEvent) => {
    // --- Ghost Drag
    const deltaX = moveEvent.pageX - clickEvent.pageX;
    const deltaY = moveEvent.pageY - clickEvent.pageY;

    ghostItem.style.top = `${itemRect.top + deltaY}px`;
    ghostItem.style.left = `${itemRect.left + deltaX}px`;
    // --- Ghost Drag END
  };


  const mouseUpHandler = (moveEvent: MouseEvent) => {
    // --- Ghost ì œìë¦¬ ë³µê·€
    ghostItem.style.transition = 'all 200ms ease';
    ghostItem.style.left = `${itemRect.left}px`;
    ghostItem.style.top = `${itemRect.top}px`;
    ghostItem.style.transform = 'none';

    ghostItem.addEventListener(
      'transitionend',
      () => {
        item.removeAttribute('style');
        document.body.removeAttribute('style');
        ghostItem.remove();
      },
      { once: true },
    );
    // --- Ghost ì œìë¦¬ ë³µê·€ END

    // ...
  };
}}
```

#### ì²´í¬ í¬ì¸íŠ¸

- `ghost`ê°€ ë§ˆìš°ìŠ¤(í¬ì¸í„°) ì´ë²¤íŠ¸ì— ê´€ì—¬ë˜ì§€ ì•Šë„ë¡ [pointer-event](https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events) `none`ìœ¼ë¡œ ì„¤ì •í•´ì¤¬ë‹¤.
- ê¸°ì¡´ ì—˜ë¦¬ë¨¼íŠ¸ì—ëŠ” `placeholder` í´ë˜ìŠ¤ë¥¼ ë‘¬ì„œ ë“œë ˆê·¸ë˜ê³  ìˆìŒì„ ì¸ì§€ì‹œí‚¨ë‹¤.
- ë³„ë„ì˜ css ì—†ì´ ìŠ¤íƒ€ì¼ì„ ëª¨ë‘ ì¸ë¼ì¸ìœ¼ë¡œ ì‘ì„±í–ˆë‹¤.

![](https://velog.velcdn.com/images/bepyan/post/19de45cf-494e-4592-9575-c3cafd96604a/image.gif)

---

## DROP â€” ì˜ì—­ í™•ì¸

> í•µì‹¬ì€ `docuemnt.elementFromPoint`ì„ í™œìš©í•´ì„œ íŠ¹ì • ìœ„ì¹˜ì— ì–´ë–¤ ì—˜ë¦¬ë¨¼íŠ¸ê°€ ìˆëŠ”ì§€ í™•ì¸ í•œë‹¤.
> ghostê°€ í•­ìƒ ì¡íˆê¸°ì— `pointer-event: none;`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ íšŒí”¼í•´ì¤€ë‹¤.

[**elementFromPoint**](https://developer.mozilla.org/en-US/docs/Web/API/Document/elementFromPoint) - returns the topmost Element at the specified coordinates (relative to the viewport).

```tsx
//...
const dropAreaList = document.querySelectorAll<HTMLElement>('.dnd-drop-area');
//...

const moveHandler = (moveEvent: MouseEvent | TouchEvent) => {
  // ...

  //--- Drop ì˜ì—­ í™•ì¸
  const ghostItemRect = ghostItem.getBoundingClientRect();
  const ghostCenterX = ghostItemRect.left + ghostItemRect.width / 2;
  const ghostCenterY = ghostItemRect.top + ghostItemRect.height / 2;

  const dropItem = document
    .elementFromPoint(ghostCenterX, ghostCenterY)
    ?.closest<HTMLElement>('.dnd-drop-area');

  dropAreaList.forEach((area) => {
    area.classList.remove('active');
    area.removeAttribute('style');
  });

  if (dropItem) {
    dropItem.classList.add('active');
    dropItem.style.filter = 'drop-shadow(16px 16px 16px gray)';
  }
  //--- Drop ì˜ì—­ í™•ì¸ END
};
```

#### ì²´í¬ í¬ì¸íŠ¸

- ì»¤ì„œì˜ ìœ„ì¹˜ê°€ ì•„ë‹Œ, **ghostì˜ ì¤‘ì‹¬ ì¢Œí‘œ**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ `drop` ì˜ì—­ ìœ„ì¸ì§€ ì—¬ë¶€ë¥¼ íŒŒì•…í–ˆë‹¤.
- drop ì˜ì—­ ìœ„ì¼ ê²½ìš° `active` í´ë˜ìŠ¤ëª…ì„ ì¶”ê°€í–ˆë‹¤. ì´ë¥¼ ì•„ë˜ onDrop ì´ë²¤íŠ¸ì—ì„œ í™œìš©í•œë‹¤.

![](https://velog.velcdn.com/images/bepyan/post/ec48197a-2774-4b84-9473-1537853c3246/image.gif)

---

## DROP â€” onDrop

> `active` ì˜ì—­ì´ ìˆì„ ê²½ìš° `onDrop` ë¡œì§ì„ ìˆ˜í–‰í•œë‹¤.

```tsx
export const registDND = (
  onDrop: (props: { source: string; destination: string; isCorrect: boolean }) => void,
) => {
  //...

  const endHandler = () => {
    const dropItem = document.querySelector<HTMLElement>('.dnd-drop-area.active');
    const isCorrect = item.innerText === dropItem?.innerText;

    if (isCorrect) {
      // í•´ë‹¹ ì˜ì—­ìœ¼ë¡œ ì´ë™
      const dropItemRect = dropItem.getBoundingClientRect();
      ghostItem.style.left = `${dropItemRect.left}px`;
      ghostItem.style.top = `${dropItemRect.top}px`;
    } else {
      // ì œìë¦¬ ë³µê·€
      ghostItem.style.left = `${itemRect.left}px`;
      ghostItem.style.top = `${itemRect.top}px`;
    }

    ghostItem.style.transition = 'all 200ms ease';
    ghostItem.style.transform = 'none';
    ghostItem.addEventListener(
      'transitionend',
      () => {
        item.classList.remove('placeholder');
        item.removeAttribute('style');
        document.body.removeAttribute('style');

        if (dropItem) {
          // ì˜ì—­ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
          dropItem.classList.remove('active');
          dropItem.removeAttribute('style');

          //
          if (isCorrect) {
            item.classList.add('opacity-50');
            dropItem.classList.remove('text-white');
            dropItem.classList.add('text-stone-700');
          }
        }

        ghostItem.remove();

        // onDrop ì½œë²¡ì„ ìˆ˜í–‰
        onDrop({
          source: item.innerText,
          destination: dropItem?.innerText ?? '',
          isCorrect,
        });
      },
      { once: true },
    );

    document.removeEventListener(moveEventName, moveHandler);
  };

  //...
};
```

ì½œë²¡ì—ì„œ ìœ„ì¹˜ê°€ ë§ëŠ” ê²¨ìš° ìƒíƒœë¥¼ ìˆ˜ì •í•´ì¤€ë‹¤.

```tsx
useEffect(() => {
  if (!ready) {
    setReady(true);
    return;
  }

  const cleanup = registDND(({ destination, isCorrect }) => {
    if (isCorrect) {
      setCorrectWords((list) => [...list, destination]);
    }
  });
  return () => cleanup();
}, [ready]);
```

#### ì²´í¬ í¬ì¸íŠ¸

- ë§ëŠ” ê²½ìš° DOM styleì„ ìˆ˜ì •í•˜ê³  ë‚˜ì„œ react stateë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤.
  ì•„ë‹ˆë©´ ìƒíƒœ ë³€ê²½ ì „ì— í™”ë©´ì´ ê¹œë¹¡ ê±°ë¦°ë‹¤.

![](https://velog.velcdn.com/images/bepyan/post/5026ce1b-c9de-4a42-a862-69178a845a96/image.gif)

ì´ë ‡ê²Œ DND ê¸°ëŠ¥ êµ¬í˜„ì´ ì™„ë£Œ ğŸ‘ğŸ»
ê²Œì„ ì»¨ì…‰ì˜ DNDì´ê¸° ë•Œë¬¸ì— ì¶”ê°€ì ì¸ ì—ë‹ˆë©”ì´ì…˜ì„ êµ¬í˜„í•´ë³´ì.

---

## (ë²ˆì™¸) í‹€ë¦°ê²½ìš° â€” shake

ì•Œë§ì§€ ì•Šì€ ì•ŒíŒŒë²³ìœ¼ë¡œ ì´ë™í•  ê²½ìš° í•´ë‹¹ ì•ŒíŒŒë²³ì´ í”ë“¤ë¦¬ë„ë¡ í•˜ì.
![](https://velog.velcdn.com/images/bepyan/post/51711783-ca6a-48cb-932e-7875b185a1a8/image.gif)

ë¨¼ì € `global.css`ì—ì„œ ê´€ë ¨ ì—ë‹ˆë©”ì´ì…˜ cssë¥¼ ì‘ì„±í•œë‹¤.
`50%` ì§€ì ì—ì„œ ê°€ì¥ í¬ê²Œ í”ë“¤ë¦¬ëŠ” ê²ƒì´ í¬ì¸íŠ¸ì´ë‹¤.

```css
@keyframes shake {
  10%,
  90% {
    transform: translate3d(-1px, 0, 0);
  }

  20%,
  80% {
    transform: translate3d(2px, 0, 0);
  }

  30%,
  50%,
  70% {
    transform: translate3d(-4px, 0, 0);
  }

  40%,
  60% {
    transform: translate3d(4px, 0, 0);
  }
}

.shake {
  animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}
```

ì—˜ë¦¬ë¨¼íŠ¸ì— `shake` í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ë©´ ì—ë‹ˆë©”ì´ì…˜ì´ ì‹¤í–‰ë˜ê³ ,
`animationend`ì—ì„œ ë‹¤ì‹œ `shake` í´ë˜ìŠ¤ë¥¼ ì œê±°í•´ì¤€ë‹¤.

```tsx
ghostItem.addEventListener(
  'transitionend',
  () => {
    //...

    if (dropItem) {
      //...

      if (!isCorrect) {
        // í‹€ë¦° ê²½ìš° shake
        item.classList.add('shake');
        item.addEventListener(
          'animationend',
          () => {
            item.classList.remove('shake');
          },
          { once: true },
        );
      } else {
        item.classList.add('opacity-50');
        dropItem.classList.remove('text-white');
        dropItem.classList.add('text-stone-700');
      }
    }

    //...
  },
  { once: true },
);
```

---

## (ë²ˆì™¸) ê²Œì„ í´ë¦¬ì–´ â€” Confettiful

ê²Œì„ í´ë¦¬ì–´í•  ê²½ìš° ê²©í•˜ê²Œ ì¶•í•˜í•´ì£¼ê³  ì‹¶ë‹¤.
![](https://velog.velcdn.com/images/bepyan/post/d4c98124-7a66-4fbb-9cab-7da9859fa99b/image.gif)

ì•„ë˜ì—ì„œ ê´€ë ¨ ë¡œì§ì„ ì°¸ê³ í–ˆë‹¤.
https://codepen.io/l2zeo/pen/ZEBLepW

ë„ˆë¬´ ë ˆê±°ì‹œí•œ ì½”ë“œ êµ¬í˜„ë°©ì‹ì´ì—¬ì„œ NextJS, Typescriptì— ë§ê²Œ ë¦¬íŒ©í† ë§í–ˆë‹¤.
~~ìƒê°ë³´ë‹¤ ì½”ë“œëŠ” ê°„ë‹¨í•˜ë‹¤.~~

`Confettiful.ts`

```ts
const confettiFrequency = 40;
const confettiColors = ['#B1B2FF', '#AAC4FF', '#2D87B0', '#D2DAFF', '#EEF1FF'];
const confettiAnimations = ['slow', 'medium', 'fast'];

const getRandomListItem = (list: any[]) => list[Math.floor(Math.random() * list.length)];

const Confettiful = function () {
  const el = document.createElement('div');
  el.style.position = 'fixed';
  el.style.pointerEvents = 'none';
  el.style.width = '100%';
  el.style.height = '100%';

  const containerEl = document.createElement('div');
  containerEl.style.position = 'absolute';
  containerEl.style.overflow = 'hidden';
  containerEl.style.top = '0';
  containerEl.style.right = '0';
  containerEl.style.bottom = '0';
  containerEl.style.left = '0';
  el.appendChild(containerEl);

  const confettiInterval = setInterval(() => {
    const confettiEl = document.createElement('div');
    confettiEl.style.position = 'absolute';
    confettiEl.style.zIndex = '1';
    confettiEl.style.top = '-10px';
    confettiEl.style.borderRadius = '0%';

    const confettiSize = Math.floor(Math.random() * 3) + 7 + 'px';
    const confettiLeft = Math.floor(Math.random() * el.offsetWidth) + 'px';
    const confettiBackground = getRandomListItem(confettiColors);
    const confettiAnimation = getRandomListItem(confettiAnimations);

    confettiEl.classList.add('confetti', `confetti--animation-${confettiAnimation}`);
    confettiEl.style.left = confettiLeft;
    confettiEl.style.width = confettiSize;
    confettiEl.style.height = confettiSize;
    confettiEl.style.backgroundColor = confettiBackground;

    setTimeout(function () {
      confettiEl.parentNode?.removeChild(confettiEl);
    }, 3000);

    containerEl.appendChild(confettiEl);
  }, 1000 / confettiFrequency);

  document.querySelector('#__next')?.prepend(el);

  return () => {
    clearInterval(confettiInterval);
    setTimeout(function () {
      el.remove();
    }, 3000);
  };
};

export default Confettiful;
```

<br />

`global.css`ì—ë„ ê´€ë ¨ ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤.

- ë–¨ì–´ì§€ëŠ” ì†ë„ ì¢…ë¥˜ë¥¼ `slow`, `medium`, `fast` 3ê°€ì§€ë¥¼ ì •ì˜í•˜ì—¬ ê°ê° `routate`ë˜ëŠ” ì •ë„ë¥¼ ì¡°ì •í•´ì¤€ë‹¤.
- `keyframe`ì´ `100%`ë˜ì—ˆì„ ë•Œ ê°€ë£¨ê°€ í™”ë©´ ë°–ìœ¼ë¡œ ë–¨ì–´ì§€ë„ë¡ `105vh` ì„¤ì •í•´ì¤€ë‹¤.

```css
/* confetti */

@keyframes confetti-slow {
  0% {
    transform: translate3d(0, 0, 0) rotateX(0) rotateY(0);
  }

  100% {
    transform: translate3d(25px, 105vh, 0) rotateX(360deg) rotateY(180deg);
  }
}

@keyframes confetti-medium {
  0% {
    transform: translate3d(0, 0, 0) rotateX(0) rotateY(0);
  }

  100% {
    transform: translate3d(100px, 105vh, 0) rotateX(100deg) rotateY(360deg);
  }
}

@keyframes confetti-fast {
  0% {
    transform: translate3d(0, 0, 0) rotateX(0) rotateY(0);
  }

  100% {
    transform: translate3d(-50px, 105vh, 0) rotateX(10deg) rotateY(250deg);
  }
}

.confetti--animation-slow {
  animation: confetti-slow 2.25s linear 1 forwards;
}

.confetti--animation-medium {
  animation: confetti-medium 1.75s linear 1 forwards;
}

.confetti--animation-fast {
  animation: confetti-fast 1.25s linear 1 forwards;
}

/* confetti end */
```

<br />

ì»´í¬ë„ŒíŠ¸ê°€ `unmounded`ë  ë•Œ Confetiië¥¼ ì§€ì›Œì£¼ë©´ ëœë‹¤.

```tsx
let cleanConfetti: () => void | undefined;
//...

const [words, setWords] = useState<string[]>(['D', 'R', 'A', 'G']);
const [correctWords, setCorrectWords] = useState<string[]>([]);

const isClear = useMemo(() => correctWords.length === words.length, [correctWords, words]);

useEffect(() => {
  if (isClear) {
    cleanConfetti = Confettiful();
  } else {
    cleanConfetti?.();
  }

  return () => {
    cleanConfetti?.();
  };
}, [isClear]);
```

---

ì‹¤ì œ ë™ì‘ì€ ì•„ë˜ ë§í¬ì—ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
https://dnd-playground.vercel.app/dnd

style ì •ë³´, ì „ì²´ ì½”ë“œëŠ” ì•„ë˜ ê¹ƒí—ˆë¸Œì—ì„œ ì‚´í´ë³´ë©´ ë©ë‹ˆë‹¤.
https://github.com/bepyan/dnd-playground/blob/main/src/components/DragSizeExample.tsx
